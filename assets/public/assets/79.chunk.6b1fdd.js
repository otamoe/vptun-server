/*! For license information please see 79.chunk.6b1fdd.js.LICENSE.txt */
"use strict";(self.webpackChunkvptun_server_assets=self.webpackChunkvptun_server_assets||[]).push([[79],{2235:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var l=a(9739),s=a.n(l),d=a(4419),n=a.n(d)()(s());n.push([e.id,"#section-client-shell-save form{padding:1em 2em}","",{version:3,sources:["webpack://./src/views/clients/shell/Save.vue"],names:[],mappings:"AAEE,gCACE,eAAA",sourcesContent:["\n#section-client-shell-save{\n  form {\n    padding: 1em 2em;\n  }\n}\n\n\n\n"],sourceRoot:""}]);const o=n},2300:(e,t,a)=>{var l=a(3379),s=a.n(l),d=a(7795),n=a.n(d),o=a(569),u=a.n(o),r=a(3565),i=a.n(r),m=a(9216),c=a.n(m),p=a(4589),f=a.n(p),k=a(2235),w={};w.styleTagTransform=f(),w.setAttributes=i(),w.insert=u().bind(null,"head"),w.domAPI=n(),w.insertStyleElement=c();var b=s()(k.default,w);if(!k.default.locals||e.hot.invalidate){var h=!k.default.locals,v=h?k:k.default.locals;e.hot.accept(2235,(t=>{k=a(2235),function(e,t,a){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!a||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(a&&"default"===l||e[l]))return!1;return!0}(v,h?k:k.default.locals,h)?(v=h?k:k.default.locals,b(k.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));k.default&&k.default.locals&&k.default.locals},2079:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(3613),s=a(6739),d=a(1961);const n={id:"section-client-shell-save",class:"client-section"},o={key:0},u={key:1};var r=a(3097),i=a(9594),m=a(7724),c=a(7329),p=a(7787),f=a(1384),k=a(8319),w=a(762);const b={name:"ClientSave",components:{FormInput:p.Z,FormGroup:k.Z,FormLabel:f.Z,FormButton:w.Z,AlertMessage:c.Z},setup(){const e=(0,i.tv)(),t=(0,i.yj)(),a=(0,l.f3)("alert-message");let s=(0,l.f3)("dayjs");const d=(0,l.f3)("axios");let n=(0,r.qj)({id:"",clientId:"",remark:"",input:"",output:"",timeout:600,status:-1,createdAt:"",updatedAt:"",clientLoading:!1,client:{},loading:!1,submitting:!1,alert:{value:void 0,close:!0,type:"error"}});function o(e){e?(n.id=e.id,n.clientId=e.clientId,n.remark=e.remark||"",n.input=e.input||"",n.output=e.output||"",n.timeout=e.timeout||600,n.status=e.status||0,n.createdAt=s(1e3*e.createdAt).format("YYYY-MM-DDTHH:mm:ss"),n.updatedAt=s(1e3*e.updatedAt).format("YYYY-MM-DDTHH:mm:ss")):(n.id="",n.clientId=t.params.client,n.remark="",n.input="",n.output="",n.timeout=600,n.status=-1,n.createdAt="",n.updatedAt="",n.loading=!1,n.submitting=!1,n.alert={value:void 0,close:!0,type:"error"})}async function u(){if("client/shell/update"===t.name||"client/shell/create"===t.name){n.clientLoading=!0;try{let e=await d.get(m.T5+"/api/client/"+t.params.client);if(e.data.error)throw new Error(e.data.error);n.client=e.data.data}catch(e){a(e),n.client={}}finally{n.clientLoading=!1}}}async function c(){if(!("client/shell/update"!==t.name&&"client/shell/create"!==t.name||t.params.client===n.clientId&&t.params.shell===n.id))if(t.params.shell){n.loading=!0,n.alert.value=void 0;try{let e=await d.get(m.T5+"/api/client/"+t.params.client+"/shell/"+t.params.shell);if(e.data.error)throw new Error(e.error);o(e.data.data)}catch(e){n.alert={value:e?.response?.data?.error||e,type:"error",close:!1}}finally{n.loading=!1}}else o(null)}return(0,l.bv)(c),(0,l.bv)(u),(0,l.YP)((()=>t.params),c),(0,l.YP)((()=>t.params),u),{state:n,route:t,onLoad:c,onSubmit:async function(){n.submitting=!0;try{let a={remark:n.remark};t.params.shell||(a.input=n.input,a.timeout=n.timeout);let l=await d.post(m.T5+"/api/client/"+t.params.client+"/shell"+(t.params.shell?"/"+t.params.shell:""),a);if(l.data.error)throw new Error(l.error);let s=l.data.data;o(s),e.push({name:"client/shell/update",params:{client:s.clientId,shell:s.id}}),n.alert={value:t.params.client?"Updated":"Created",type:"success",close:!1}}catch(e){n.alert={value:e?.response?.data?.error||e,type:"error",close:!1}}finally{n.submitting=!1}}}}};a(2300);const h=(0,a(4485).Z)(b,[["render",function(e,t,a,r,i,m){const c=(0,l.up)("FormLabel"),p=(0,l.up)("FormInput"),f=(0,l.up)("FormGroup"),k=(0,l.up)("AlertMessage"),w=(0,l.up)("FormButton");return(0,l.wg)(),(0,l.iD)("section",n,[r.route.params.shell?((0,l.wg)(),(0,l.iD)("h1",o,(0,s.zw)(e.$t("Shell $routeAddress - $hostname Update",{$routeAddress:r.state.client.routeAddress||"",$hostname:r.state.client.hostname||"Unknown"})),1)):((0,l.wg)(),(0,l.iD)("h1",u,(0,s.zw)(e.$t("Shell $routeAddress - $hostname Create",{$routeAddress:r.state.client.routeAddress||"",$hostname:r.state.client.hostname||"Unknown"})),1)),(0,l._)("form",{action:"post",onSubmit:t[10]||(t[10]=(0,d.iM)(((...e)=>r.onSubmit&&r.onSubmit(...e)),["prevent"]))},[r.state.id?((0,l.wg)(),(0,l.j4)(f,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"id",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("ID")),1)])),_:1}),(0,l.Wm)(p,{id:"id",name:"id",block:!0,type:"text",disabled:!0,modelValue:r.state.id,"onUpdate:modelValue":t[0]||(t[0]=e=>r.state.id=e)},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"client-id",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Client ID")),1)])),_:1}),(0,l.Wm)(p,{id:"client-id",name:"client-id",block:!0,type:"text",disabled:!0,modelValue:r.state.clientId,"onUpdate:modelValue":t[1]||(t[1]=e=>r.state.clientId=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"remark",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Remark")),1)])),_:1}),(0,l.Wm)(p,{id:"remark",name:"remark",block:!0,type:"text",modelValue:r.state.remark,"onUpdate:modelValue":t[2]||(t[2]=e=>r.state.remark=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"input",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Input")),1)])),_:1}),(0,l.Wm)(p,{id:"input",name:"input",block:!0,rows:"6",type:"textarea",disabled:""!==r.state.id,modelValue:r.state.input,"onUpdate:modelValue":t[3]||(t[3]=e=>r.state.input=e)},null,8,["disabled","modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"output",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Output")),1)])),_:1}),(0,l.Wm)(p,{id:"output",name:"output",block:!0,rows:"10",type:"textarea",disabled:""!==r.state.id,modelValue:r.state.output,"onUpdate:modelValue":t[4]||(t[4]=e=>r.state.output=e)},null,8,["disabled","modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"status",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Status")),1)])),_:1}),(0,l.Wm)(p,{id:"status",name:"status",block:!0,type:"text",modelValue:r.state.status,"onUpdate:modelValue":t[5]||(t[5]=e=>r.state.status=e),disabled:!0},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"timeout",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Timeout")),1)])),_:1}),(0,l.Wm)(p,{id:"timeout",name:"timeout",block:!0,type:"number",disabled:""!==r.state.id,modelValue:r.state.timeout,"onUpdate:modelValue":t[6]||(t[6]=e=>r.state.timeout=e)},null,8,["disabled","modelValue"])])),_:1}),r.state.id?((0,l.wg)(),(0,l.j4)(f,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"created-at",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Created at")),1)])),_:1}),(0,l.Wm)(p,{id:"created-at",name:"created_at",block:!0,type:"datetime-local",disabled:!0,modelValue:r.state.createdAt,"onUpdate:modelValue":t[7]||(t[7]=e=>r.state.createdAt=e)},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),r.state.id?((0,l.wg)(),(0,l.j4)(f,{key:2},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{for:"updated-at",block:!0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Updated at")),1)])),_:1}),(0,l.Wm)(p,{id:"updated-at",name:"updated_at",block:!0,type:"datetime-local",disabled:!0,modelValue:r.state.updatedAt,"onUpdate:modelValue":t[8]||(t[8]=e=>r.state.updatedAt=e)},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{value:r.state.alert.value,type:r.state.alert.type,close:r.state.alert.close,onClose:t[9]||(t[9]=e=>r.state.alert.close=!0)},null,8,["value","type","close"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{block:!0,styleSize:"lg",type:"submit",disabled:r.state.loading||r.state.clientLoading,submitting:r.state.submitting},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Submit")),1)])),_:1},8,["disabled","submitting"])])),_:1})],32)])}]])}}]);
//# sourceMappingURL=79.chunk.6b1fdd.js.map