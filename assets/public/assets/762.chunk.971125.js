/*! For license information please see 762.chunk.971125.js.LICENSE.txt */
"use strict";(self.webpackChunkvptun_server_assets=self.webpackChunkvptun_server_assets||[]).push([[762],{1036:(t,e,l)=>{l.r(e),l.d(e,{default:()=>d});var a=l(9739),n=l.n(a),s=l(4419),i=l.n(s)()(n());i.push([t.id,"#section-client-shell-home .create-btn{font-size:1.4em;float:right;margin:.3em 1em}","",{version:3,sources:["webpack://./src/views/clients/shell/Home.vue"],names:[],mappings:"AAEE,uCACE,eAAA,CACA,WAAA,CACA,eAAA",sourcesContent:["\n#section-client-shell-home {\n  .create-btn {\n    font-size: 1.4em;\n    float: right;\n    margin: .3em 1em;\n  }\n}\n"],sourceRoot:""}]);const d=i},6499:(t,e,l)=>{var a=l(3379),n=l.n(a),s=l(7795),i=l.n(s),d=l(569),r=l.n(d),o=l(3565),u=l.n(o),c=l(9216),m=l.n(c),h=l(4589),f=l.n(h),p=l(1036),w={};w.styleTagTransform=f(),w.setAttributes=u(),w.insert=r().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=m();var _=n()(p.default,w);if(!p.default.locals||t.hot.invalidate){var g=!p.default.locals,A=g?p:p.default.locals;t.hot.accept(1036,(e=>{p=l(1036),function(t,e,l){if(!t&&e||t&&!e)return!1;var a;for(a in t)if((!l||"default"!==a)&&t[a]!==e[a])return!1;for(a in e)if(!(l&&"default"===a||t[a]))return!1;return!0}(A,g?p:p.default.locals,g)?(A=g?p:p.default.locals,_(p.default)):t.hot.invalidate()}))}t.hot.dispose((function(){_()}));p.default&&p.default.locals&&p.default.locals},2762:(t,e,l)=>{l.r(e),l.d(e,{default:()=>k});var a=l(3613),n=l(6739),s=l(1961);const i={id:"section-client-shell-home",class:"client-shell-section"},d={class:"td-id"},r={class:"td-input"},o={class:"td-remark"},u={class:"td-timeout"},c={class:"td-status"},m={class:"td-created-at"},h=["datetime","title"],f={class:"td-updated-at"},p=["datetime","title"],w={class:"td-action"},_=(0,a.Uk)(" , "),g=(0,a.Uk)(" , "),A=["onClick"],z={key:0};var $=l(3097),y=l(7724),Y=l(9594),v=l(561);const D={name:"ClientShellList",components:{DialogModal:l(6126).Z},setup(){const t=(0,a.f3)("axios"),e=(0,a.f3)("alert-message"),l=(0,$.qj)({loading:!1,clientLoading:!1,client:{},data:{},delete:{shell:void 0,submitting:!1}}),n=(0,Y.yj)();async function s(){if("client/shell/home"===n.name){l.clientLoading=!0;try{let e=await t.get(y.T5+"/api/client/"+n.params.client);if(e.data.error)throw new Error(e.data.error);l.client=e.data.data}catch(t){e(t)}finally{l.clientLoading=!1}}}async function i(){if("client/shell/home"===n.name){l.loading=!0;try{let e=await t.get(y.T5+"/api/client/"+n.params.client+"/shell?limit=1000&"+v.stringify(n.query));if(e.data.error)throw new Error(e.data.error);l.data=e.data.data}catch(t){e(t)}finally{l.loading=!1}}}return(0,a.YP)((()=>n.query),i),(0,a.bv)(i),(0,a.bv)(s),{onList:i,onReadClient:s,onDelete:async function(){let a=l.delete.shell;l.delete.submitting=!0;try{let e=await t.delete(y.T5+"/api/client/"+a.clientId+"/shell/"+a.id);if(e.data.error)throw new Error(e.data.error);let n=[];for(const t in l.data){let e=l.data[t];e.id!==a.id&&n.push(e)}l.data=n,l.delete.shell=void 0}catch(t){e(t?.response?.data?.error||t)}finally{l.delete.submitting=!1}},state:l,route:n,API_URL:y.T5}}};l(6499);const k=(0,l(4485).Z)(D,[["render",function(t,e,l,$,y,Y){const v=(0,a.up)("RouterLink"),D=(0,a.up)("DialogModal");return(0,a.wg)(),(0,a.iD)("section",i,[(0,a.Wm)(v,{class:"create-btn",to:{name:"client/shell/create",params:{client:$.route.params.client}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.$t("Create")),1)])),_:1},8,["to"]),(0,a._)("h1",null,(0,n.zw)(t.$t("Shell $routeAddress - $hostname",{$routeAddress:$.state.client.routeAddress||"",$hostname:$.state.client.hostname||"Unknown"})),1),(0,a._)("table",null,[(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,(0,n.zw)(t.$t("ID")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Remark")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Input")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Timeout")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Status")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Created At")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Updated At")),1),(0,a._)("th",null,(0,n.zw)(t.$t("Action")),1)])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.state.data,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l,class:(0,n.C_)({"shell-status-":e.status||0})},[(0,a._)("td",d,[(0,a._)("span",null,(0,n.zw)(e.id.substr(e.id.length-6)),1)]),(0,a._)("td",r,[(0,a._)("span",null,(0,n.zw)(e.input&&e.input.length>32?e.input.substr(32)+"...":e.input),1)]),(0,a._)("td",o,[(0,a._)("span",null,(0,n.zw)(e.remark),1)]),(0,a._)("td",u,[(0,a._)("span",null,(0,n.zw)(e.timeout)+"s",1)]),(0,a._)("td",c,[(0,a._)("span",null,(0,n.zw)(e.status||0),1)]),(0,a._)("td",m,[(0,a._)("time",{datetime:t.$dayjs(1e3*e.createdAt).format("YYYY-MM-DD HH:mm:ss"),title:t.$dayjs(1e3*e.createdAt).format("YYYY-MM-DD HH:mm:ss")},(0,n.zw)(t.$dayjs(1e3*e.createdAt).format("YYYY-MM-DD")),9,h)]),(0,a._)("td",f,[(0,a._)("time",{datetime:t.$dayjs(1e3*e.updatedAt).format("YYYY-MM-DD HH:mm:ss"),title:t.$dayjs(1e3*e.updatedAt).format("YYYY-MM-DD HH:mm:ss")},(0,n.zw)(t.$dayjs(1e3*e.updatedAt).format("YYYY-MM-DD")),9,p)]),(0,a._)("td",w,[(0,a.Wm)(v,{to:{name:"client/shell/update",params:{client:e.clientId,shell:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.$t("Edit")),1)])),_:2},1032,["to"]),_,(0,a.Wm)(v,{to:{name:"client/shell/read",params:{client:e.clientId,shell:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.$t("View")),1)])),_:2},1032,["to"]),g,(0,a._)("a",{href:"#",onClick:(0,s.iM)((t=>$.state.delete.shell=e),["prevent"])},(0,n.zw)(t.$t("Delete")),9,A)])],2)))),128))])]),(0,a.Wm)(D,{title:t.$t("Delete"),close:!$.state.delete.shell,submitting:$.state.delete.submitting,onCancel:e[0]||(e[0]=t=>$.state.delete.shell=void 0),onClose:e[1]||(e[1]=t=>$.state.delete.shell=void 0),onConfirm:$.onDelete,class:"shell-delete-modal"},{default:(0,a.w5)((()=>[$.state.delete.shell?((0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("p",null,[(0,a._)("strong",null,(0,n.zw)(t.$t("Remark:")),1),(0,a._)("span",null,(0,n.zw)($.state.delete.shell.remark),1)]),(0,a._)("p",null,[(0,a._)("strong",null,(0,n.zw)(t.$t("Input:")),1),(0,a._)("span",null,(0,n.zw)($.state.delete.shell.input),1)])])):(0,a.kq)("",!0),(0,a._)("h4",null,(0,n.zw)(t.$t("Are you sure you want to delete the shell with the above information?")),1)])),_:1},8,["title","close","submitting","onConfirm"])])}]])}}]);
//# sourceMappingURL=762.chunk.971125.js.map